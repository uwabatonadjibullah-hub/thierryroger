import React, { useState, useEffect, useRef } from 'react';
import { 
  Mic, 
  Users, 
  Calendar, 
  Globe, 
  Instagram,
  Mail, 
  Phone, 
  MapPin, 
  Menu, 
  X, 
  Award,
  BookOpen,
  ChevronRight,
  Play,
  ArrowRight,
  MessageCircle,
  Download,
  FileText,
  MessageSquare
} from 'lucide-react';

// Custom Hook for Scroll Revelations
const useReveal = () => {
  const [isVisible, setIsVisible] = useState(false);
  const ref = useRef(null);

  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setIsVisible(true);
        }
      },
      { threshold: 0.1 }
    );

    if (ref.current) observer.observe(ref.current);
    return () => {
      if (ref.current) observer.unobserve(ref.current);
    };
  }, []);

  return [ref, isVisible];
};

const RevealSection = ({ children, className = "" }) => {
  const [ref, isVisible] = useReveal();
  return (
    <div 
      ref={ref} 
      className={`transition-all duration-1000 transform ${className} ${
        isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-12'
      }`}
    >
      {children}
    </div>
  );
};

const App = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [scrolled, setScrolled] = useState(false);

  useEffect(() => {
    const handleScroll = () => setScrolled(window.scrollY > 50);
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const experiences = [
    {
      role: "Radio Presenter & Social Media Manager",
      company: "Country FM",
      period: "2 Years",
      image: "https://images.unsplash.com/photo-1590602847861-f357a9332bbc?auto=format&fit=crop&q=80&w=800",
      description: "Driving the narrative and engaging thousands of listeners across the Western Province through broadcast and digital media.",
      icon: <Mic size={20} />
    },
    {
      role: "COVID-19 Campaign Manager",
      company: "Rusizi District",
      period: "2020-2022",
      image: "https://images.unsplash.com/photo-1584483766114-2cea6facdf57?auto=format&fit=crop&q=80&w=800",
      description: "Strategizing and leading public health communication efforts to mobilize the community during the pandemic.",
      icon: <Users size={20} />
    },
    {
      role: "Agricultural Mobilizer",
      company: "World Relief",
      period: "Western Province",
      image: "https://images.unsplash.com/photo-1500382017468-9049fed747ef?auto=format&fit=crop&q=80&w=800",
      description: "Empowering rural women through training in modern agricultural techniques and sustainable financial savings.",
      icon: <Globe size={20} />
    },
    {
      role: "Events Manager",
      company: "Rubavu & Karongi",
      period: "Current",
      image: "https://images.unsplash.com/photo-1492684223066-81342ee5ff30?auto=format&fit=crop&q=80&w=800",
      description: "Coordinating logistics and PR for major cultural and community events in the Western Province.",
      icon: <Calendar size={20} />
    }
  ];

  const whatsappLink = "https://wa.me/250781065953";
  const emailAddress = "thierryrogeriradukunda@gmail.com";
  const cvDownloadLink = "#"; 

  return (
    <div className="min-h-screen bg-[#0a0a0b] text-white selection:bg-blue-500/30 scroll-smooth">
      {/* Cinematic Navigation */}
      <nav className={`fixed w-full z-[100] transition-all duration-500 px-6 lg:px-12 ${
        scrolled ? 'bg-black/80 backdrop-blur-xl py-4 border-b border-white/5' : 'bg-transparent py-8'
      }`}>
        <div className="max-w-[1400px] mx-auto flex justify-between items-center">
          <a href="#" className="text-2xl font-serif font-black tracking-tighter uppercase group">
            Roger<span className="text-blue-600 group-hover:text-white transition-colors">.</span>
          </a>

          <div className="hidden md:flex items-center space-x-10">
            {['About', 'Work', 'Expertise', 'Contact'].map((item) => (
              <a 
                key={item} 
                href={`#${item.toLowerCase()}`} 
                className="text-[10px] font-black tracking-[0.3em] uppercase text-white/40 hover:text-white transition-colors"
              >
                {item}
              </a>
            ))}
            <a 
              href={cvDownloadLink}
              className="bg-white/5 border border-white/10 text-white px-5 py-2 rounded-full text-[10px] font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all flex items-center gap-2"
            >
              <Download size={12} /> CV
            </a>
            <a 
              href={whatsappLink}
              target="_blank"
              rel="noopener noreferrer"
              className="bg-blue-600 text-white px-6 py-2.5 rounded-full text-[10px] font-black uppercase tracking-widest hover:bg-blue-700 transition-all flex items-center gap-2"
            >
              <MessageCircle size={14} /> Hire Me
            </a>
          </div>

          <button className="md:hidden p-2 text-white/60 hover:text-white" onClick={() => setIsMenuOpen(!isMenuOpen)}>
            {isMenuOpen ? <X size={24} /> : <Menu size={24} />}
          </button>
        </div>

        {/* Mobile Menu */}
        {isMenuOpen && (
          <div className="absolute top-0 left-0 w-full h-screen bg-[#0a0a0b] p-12 flex flex-col justify-center space-y-8 animate-in fade-in duration-300">
            <button className="absolute top-8 right-8" onClick={() => setIsMenuOpen(false)}>
              <X size={32} />
            </button>
            {['About', 'Work', 'Expertise', 'Contact'].map((item) => (
              <a 
                key={item} 
                href={`#${item.toLowerCase()}`} 
                className="text-4xl font-serif font-bold italic tracking-tighter text-white/40 hover:text-white"
                onClick={() => setIsMenuOpen(false)}
              >
                {item}
              </a>
            ))}
            <div className="pt-8 border-t border-white/10 space-y-4">
               <a href={cvDownloadLink} className="flex items-center gap-3 text-lg font-bold">
                 <Download className="text-blue-600" /> Download CV
               </a>
               <a href={whatsappLink} className="flex items-center gap-3 text-lg font-bold">
                 <MessageCircle className="text-blue-600" /> WhatsApp
               </a>
            </div>
          </div>
        )}
      </nav>

      {/* Hero Section */}
      <section className="relative h-screen flex items-center overflow-hidden">
        <div className="absolute inset-0 z-0">
          <img 
            src="https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?auto=format&fit=crop&q=80&w=2000" 
            className="w-full h-full object-cover opacity-30 scale-105"
            alt="Cinematic Background"
          />
          <div className="absolute inset-0 bg-gradient-to-t from-[#0a0a0b] via-[#0a0a0b]/60 to-transparent"></div>
          <div className="absolute inset-0 bg-gradient-to-r from-[#0a0a0b] via-[#0a0a0b]/20 to-transparent"></div>
        </div>

        <div className="relative z-10 max-w-[1400px] mx-auto px-6 lg:px-12 w-full">
          <div className="max-w-4xl space-y-8 animate-in fade-in slide-in-from-bottom-12 duration-1000">
            <div className="flex items-center gap-3">
              <span className="h-[1px] w-12 bg-blue-600"></span>
              <span className="text-[10px] font-black uppercase tracking-[0.4em] text-blue-500">Professional Portfolio 2026</span>
            </div>
            <h1 className="text-6xl md:text-8xl lg:text-[9rem] font-serif font-bold leading-[0.85] tracking-tighter italic">
              Thierry <br />
              <span className="text-blue-600 not-italic">Roger.</span>
            </h1>
            <p className="text-xl md:text-2xl text-white/50 font-light max-w-2xl leading-relaxed italic">
              Broadcast Journalist, Social Media Strategist, and Community Mobilizer based in the Western Province of Rwanda.
            </p>
            <div className="flex flex-wrap gap-6 pt-8">
              <a href="#work" className="group flex items-center gap-4 bg-blue-600 hover:bg-blue-700 text-white px-10 py-5 rounded-full transition-all shadow-xl shadow-blue-600/20">
                <span className="font-black uppercase tracking-widest text-xs">Explore Work</span>
                <Play size={16} fill="currentColor" className="group-hover:translate-x-1 transition-transform" />
              </a>
              <a 
                href={cvDownloadLink} 
                className="group flex items-center gap-4 border border-white/20 hover:border-white/50 px-10 py-5 rounded-full transition-all backdrop-blur-sm"
              >
                <FileText size={18} className="text-white/40 group-hover:text-white transition-colors" />
                <span className="font-black uppercase tracking-widest text-xs text-white/80 group-hover:text-white">Download CV</span>
              </a>
            </div>
          </div>
        </div>

        <div className="absolute bottom-12 left-1/2 -translate-x-1/2 animate-bounce opacity-20">
          <div className="w-[1px] h-16 bg-white"></div>
        </div>
      </section>

      {/* About Section */}
      <section id="about" className="py-40 bg-[#0a0a0b]">
        <div className="max-w-[1400px] mx-auto px-6 lg:px-12">
          <div className="grid lg:grid-cols-2 gap-24 items-center">
            <RevealSection className="space-y-10">
              <div className="space-y-4">
                <span className="text-[10px] font-black uppercase tracking-[0.3em] text-blue-600">Biography</span>
                <h2 className="text-5xl md:text-7xl font-serif font-bold italic tracking-tighter leading-none">
                  Driven by the <br />power of <span className="text-blue-600">voice.</span>
                </h2>
              </div>
              <p className="text-xl text-white/40 leading-relaxed font-light">
                An alumnus of the <span className="text-white font-medium">University of Rwanda</span>, I specialize in the intersection of traditional broadcasting and modern digital mobilization. From radio waves at Country FM to the frontlines of community health campaigns, I bridge communication gaps to foster growth.
              </p>
              <div className="grid grid-cols-2 gap-12 pt-10 border-t border-white/5">
                <div>
                  <div className="text-4xl font-serif font-bold text-white mb-2 italic">02+</div>
                  <div className="text-[10px] uppercase tracking-widest text-white/30 font-black">Years On-Air Experience</div>
                </div>
                <div>
                  <div className="text-4xl font-serif font-bold text-white mb-2 italic">04</div>
                  <div className="text-[10px] uppercase tracking-widest text-white/30 font-black">Major Languages Spoken</div>
                </div>
              </div>
            </RevealSection>
            
            <RevealSection className="relative aspect-[4/5] rounded-[3rem] overflow-hidden group shadow-2xl">
              <img 
                src="https://images.unsplash.com/photo-1478737270239-2f02b77fc618?auto=format&fit=crop&q=80&w=1000" 
                className="w-full h-full object-cover grayscale opacity-40 group-hover:grayscale-0 group-hover:opacity-100 transition-all duration-1000 scale-105 group-hover:scale-100"
                alt="Broadcast Focus"
              />
              <div className="absolute inset-0 bg-gradient-to-t from-[#0a0a0b] via-transparent to-transparent"></div>
              <div className="absolute bottom-10 left-10 right-10">
                <div className="p-8 bg-black/60 backdrop-blur-xl border border-white/5 rounded-[2rem]">
                  <div className="text-[10px] font-black uppercase tracking-widest text-blue-500 mb-3">Education</div>
                  <div className="text-xl font-bold font-serif italic mb-1">Journalism & Communication</div>
                  <div className="text-white/40 text-sm">University of Rwanda, 2017-2020</div>
                </div>
              </div>
            </RevealSection>
          </div>
        </div>
      </section>

      {/* Work Section */}
      <section id="work" className="py-40 bg-[#0d0d0f]">
        <div className="max-w-[1400px] mx-auto px-6 lg:px-12">
          <div className="flex flex-col md:flex-row md:items-end justify-between mb-24 gap-12">
            <div className="space-y-4">
              <span className="text-[10px] font-black uppercase tracking-[0.3em] text-blue-600">Selected Experience</span>
              <h2 className="text-6xl md:text-8xl font-serif font-bold italic tracking-tighter">Impact <span className="not-italic">Story</span></h2>
            </div>
            <p className="text-white/30 max-w-sm text-xs uppercase tracking-widest font-bold leading-loose italic">
              A diverse career path across media broadcasting, public health coordination, and rural mobilization.
            </p>
          </div>

          <div className="grid md:grid-cols-2 gap-16">
            {experiences.map((exp, idx) => (
              <RevealSection key={idx} className="group cursor-pointer">
                <div className="relative aspect-[16/10] rounded-[3rem] overflow-hidden mb-10 shadow-3xl">
                  <img 
                    src={exp.image} 
                    alt={exp.role}
                    className="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-1000 opacity-60 group-hover:opacity-100"
                  />
                  <div className="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
                  <div className="absolute top-10 right-10">
                    <div className="w-14 h-14 bg-white/5 backdrop-blur-2xl rounded-2xl flex items-center justify-center text-white border border-white/10 group-hover:bg-blue-600 group-hover:border-blue-500 transition-all">
                      {exp.icon}
                    </div>
                  </div>
                  <div className="absolute bottom-10 left-10">
                    <span className="px-5 py-2.5 bg-blue-600/90 backdrop-blur-md rounded-full text-[10px] font-black uppercase tracking-widest">
                      {exp.period}
                    </span>
                  </div>
                </div>
                <div className="space-y-5 px-6">
                  <div className="flex items-center gap-4 text-white/30 text-[10px] font-black uppercase tracking-widest">
                    <span>{exp.company}</span>
                    <span className="w-1.5 h-1.5 bg-blue-600 rounded-full"></span>
                    <span>Professional Role</span>
                  </div>
                  <h3 className="text-4xl font-serif font-bold tracking-tight group-hover:text-blue-500 transition-colors italic">
                    {exp.role}
                  </h3>
                  <p className="text-white/40 leading-relaxed font-light text-lg">
                    {exp.description}
                  </p>
                </div>
              </RevealSection>
            ))}
          </div>
        </div>
      </section>

      {/* Expertise Section */}
      <section id="expertise" className="py-40 bg-[#0a0a0b]">
        <div className="max-w-[1400px] mx-auto px-6 lg:px-12">
          <div className="grid lg:grid-cols-12 gap-24 items-start">
            <div className="lg:col-span-5 space-y-12 lg:sticky lg:top-40">
              <div className="space-y-4">
                <span className="text-[10px] font-black uppercase tracking-[0.3em] text-blue-600">Skills & Values</span>
                <h2 className="text-6xl font-serif font-bold italic leading-[0.9] tracking-tighter">Core <span className="not-italic text-blue-600">Expertise.</span></h2>
              </div>
              <p className="text-xl text-white/40 leading-relaxed font-light">
                Bridging communication channels through linguistic proficiency and strategic district leadership.
              </p>
              
              <div className="grid grid-cols-2 gap-6 pt-10">
                {['English', 'French', 'Kiswahili', 'Kinyarwanda'].map((lang) => (
                  <div key={lang} className="p-6 bg-white/5 rounded-3xl border border-white/5 text-center group hover:border-blue-600/50 transition-colors">
                    <span className="font-black tracking-widest text-[10px] uppercase text-white/40 group-hover:text-blue-500">{lang}</span>
                    <div className="mt-2 text-sm font-bold">Excellent</div>
                  </div>
                ))}
              </div>
            </div>

            <div className="lg:col-span-7 grid sm:grid-cols-1 gap-8">
              {[
                { title: "Broadcasting", desc: "Expert in live presentation and digital media management.", icon: <Mic size={24} /> },
                { title: "Public Relations", desc: "Managing district-level communication during crisis and change.", icon: <MessageSquare size={24} /> },
                { title: "Field Mobilization", desc: "Coordinating rural groups for agriculture and financial growth.", icon: <Globe size={24} /> },
                { title: "Leadership", icon: <Award size={24} />, desc: "Leading teams to achieve strategic community goals." }
              ].map((skill, i) => (
                <div key={i} className="p-12 bg-[#0d0d0f] rounded-[3.5rem] border border-white/5 hover:bg-white/5 transition-all group relative overflow-hidden flex items-center gap-10">
                  <div className="w-16 h-16 bg-white/5 rounded-3xl flex items-center justify-center text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-all shrink-0">
                    {skill.icon}
                  </div>
                  <div className="space-y-2">
                    <h4 className="text-3xl font-serif font-bold italic tracking-tight">{skill.title}</h4>
                    <p className="text-white/40 text-lg font-light leading-relaxed">{skill.desc}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* Contact Section */}
      <section id="contact" className="py-40 relative">
        <div className="max-w-[1400px] mx-auto px-6 lg:px-12">
          <div className="bg-[#0d0d0f] rounded-[5rem] p-12 lg:p-32 border border-white/5 shadow-3xl text-center relative overflow-hidden">
            <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-blue-600 to-transparent opacity-20"></div>
            
            <div className="max-w-4xl mx-auto space-y-16">
              <div className="space-y-6">
                <span className="text-[10px] font-black uppercase tracking-[0.4em] text-blue-600">Get in Touch</span>
                <h2 className="text-6xl md:text-9xl font-serif font-bold italic leading-[0.85] tracking-tighter">
                  Let's create <br /><span className="text-blue-600 not-italic">impact.</span>
                </h2>
              </div>

              <div className="flex flex-wrap justify-center gap-10 pt-10">
                <a href={`mailto:${emailAddress}`} className="group flex flex-col items-center gap-5">
                  <div className="w-24 h-24 bg-white/5 rounded-[2rem] flex items-center justify-center text-blue-500 group-hover:bg-blue-600 group-hover:text-white transition-all group-hover:-translate-y-2 shadow-xl">
                    <Mail size={36} />
                  </div>
                  <span className="text-[10px] font-black uppercase tracking-[0.2em] text-white/30 group-hover:text-white">Email</span>
                </a>
                <a href={whatsappLink} target="_blank" rel="noopener noreferrer" className="group flex flex-col items-center gap-5">
                  <div className="w-24 h-24 bg-white/5 rounded-[2rem] flex items-center justify-center text-blue-500 group-hover:bg-blue-600 group-hover:text-white transition-all group-hover:-translate-y-2 shadow-xl">
                    <MessageCircle size={36} />
                  </div>
                  <span className="text-[10px] font-black uppercase tracking-[0.2em] text-white/30 group-hover:text-white">WhatsApp</span>
                </a>
                <a 
                  href="https://www.instagram.com/t_roger_250/" 
                  target="_blank" 
                  rel="noopener noreferrer" 
                  className="group flex flex-col items-center gap-5"
                >
                  <div className="w-24 h-24 bg-white/5 rounded-[2rem] flex items-center justify-center text-blue-500 group-hover:bg-blue-600 group-hover:text-white transition-all group-hover:-translate-y-2 shadow-xl">
                    <Instagram size={36} />
                  </div>
                  <span className="text-[10px] font-black uppercase tracking-[0.2em] text-white/30 group-hover:text-white">Instagram</span>
                </a>
              </div>

              <div className="pt-24 grid md:grid-cols-2 gap-10 text-left">
                <div className="p-12 bg-black/40 rounded-[3rem] space-y-6 border border-white/5 backdrop-blur-xl">
                  <label className="text-[10px] font-black uppercase tracking-[0.3em] text-blue-500">Channel</label>
                  <div className="space-y-4 text-white">
                    <p className="text-xl font-serif font-bold italic truncate">{emailAddress}</p>
                    <p className="text-xl font-serif font-bold italic">+250 781 065 953</p>
                  </div>
                </div>
                <div className="p-12 bg-black/40 rounded-[3rem] space-y-6 border border-white/5 backdrop-blur-xl">
                  <label className="text-[10px] font-black uppercase tracking-[0.3em] text-blue-500">Location</label>
                  <div className="space-y-4 text-white">
                    <p className="text-xl font-serif font-bold italic">Kamembe, Rusizi District</p>
                    <p className="text-lg font-light text-white/30 italic">Western Province, Rwanda</p>
                  </div>
                </div>
              </div>
              
              <div className="pt-20">
                 <a 
                   href={cvDownloadLink}
                   className="inline-flex items-center gap-4 bg-white text-black px-12 py-6 rounded-full font-black uppercase tracking-widest text-xs hover:bg-blue-600 hover:text-white transition-all shadow-2xl"
                 >
                   <Download size={20} /> Access Full Résumé
                 </a>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="py-20 border-t border-white/5">
        <div className="max-w-[1400px] mx-auto px-6 lg:px-12 flex flex-col md:flex-row justify-between items-center gap-12">
          <div className="text-2xl font-serif font-black uppercase tracking-tighter">
            Roger<span className="text-blue-600">.</span>
          </div>
          <p className="text-[10px] font-bold uppercase tracking-[0.4em] text-white/20 text-center">
            © 2026 Iradukunda Thierry Roger • Built for Excellence
          </p>
          <div className="flex gap-10">
            <a href="https://www.instagram.com/t_roger_250/" target="_blank" rel="noopener noreferrer" className="text-[10px] font-black uppercase tracking-widest text-white/30 hover:text-white transition-colors">Instagram</a>
            <a href={whatsappLink} target="_blank" rel="noopener noreferrer" className="text-[10px] font-black uppercase tracking-widest text-white/30 hover:text-white transition-colors">WhatsApp</a>
            <a href={`mailto:${emailAddress}`} className="text-[10px] font-black uppercase tracking-widest text-white/30 hover:text-white transition-colors">Email</a>
          </div>
        </div>
      </footer>
    </div>
  );
};

export default App;
